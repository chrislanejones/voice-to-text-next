{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/clj/repo/voice-to-text-next/app/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nconst brightColors = {\n  one: \"oklch(0.89 0.16 0)\",\n  two: \"oklch(0.89 0.16 40)\",\n  three: \"oklch(0.89 0.16 80)\",\n  four: \"oklch(0.89 0.16 120)\",\n  five: \"oklch(0.89 0.16 160)\",\n  six: \"oklch(0.89 0.16 200)\",\n  seven: \"oklch(0.89 0.16 240)\",\n  eight: \"oklch(0.89 0.16 280)\",\n  nine: \"oklch(0.89 0.16 320)\",\n};\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & { color?: keyof typeof brightColors }\n>(({ className, color = \"one\", ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"rounded-lg text-black shadow-md hover:shadow-lg\", className)}\n    style={{ backgroundColor: brightColors[color] }}\n    {...props}\n  />\n));\nCard.displayName = \"Card\";\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col p-4 min-h-20\", className)}\n    {...props}\n  />\n));\nCardHeader.displayName = \"CardHeader\";\n\nconst CardTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h3\n    ref={ref}\n    className={cn(\"text-sm font-medium leading-tight line-clamp-2\", className)}\n    {...props}\n  />\n));\nCardTitle.displayName = \"CardTitle\";\n\nconst CardDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <p\n    ref={ref}\n    className={cn(\"text-xs text-gray-400 mt-1 line-clamp-1\", className)}\n    {...props}\n  />\n));\nCardDescription.displayName = \"CardDescription\";\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-4 pt-0\", className)} {...props} />\n));\nCardContent.displayName = \"CardContent\";\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"flex items-center justify-end gap-2 p-2 pt-0 mt-auto\",\n      className\n    )}\n    {...props}\n  />\n));\nCardFooter.displayName = \"CardFooter\";\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardDescription,\n  CardContent,\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AACA;;;;AAEA,MAAM,eAAe;IACnB,KAAK;IACL,KAAK;IACL,OAAO;IACP,MAAM;IACN,MAAM;IACN,KAAK;IACL,OAAO;IACP,OAAO;IACP,MAAM;AACR;AAEA,MAAM,qBAAO,2ZAAgB,CAG3B,CAAC,EAAE,SAAS,EAAE,QAAQ,KAAK,EAAE,GAAG,OAAO,EAAE,oBACzC,sbAAC;QACC,KAAK;QACL,WAAW,IAAA,yJAAE,EAAC,mDAAmD;QACjE,OAAO;YAAE,iBAAiB,YAAY,CAAC,MAAM;QAAC;QAC7C,GAAG,KAAK;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,2ZAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,sbAAC;QACC,KAAK;QACL,WAAW,IAAA,yJAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,2ZAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,sbAAC;QACC,KAAK;QACL,WAAW,IAAA,yJAAE,EAAC,kDAAkD;QAC/D,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,2ZAAgB,CAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,sbAAC;QACC,KAAK;QACL,WAAW,IAAA,yJAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,2ZAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,sbAAC;QAAI,KAAK;QAAK,WAAW,IAAA,yJAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,2ZAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,sbAAC;QACC,KAAK;QACL,WAAW,IAAA,yJAAE,EACX,wDACA;QAED,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 103, "column": 0}, "map": {"version":3,"sources":["file:///home/clj/repo/voice-to-text-next/app/components/CardSection.tsx"],"sourcesContent":["import React from \"react\";\nimport { Trash2, Maximize2, Copy } from \"lucide-react\";\nimport { Card, CardHeader, CardTitle, CardFooter } from \"./ui/card\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { useToast } from \"@/hooks/use-toast\";\n\nconst colorKeys = [\n  \"one\",\n  \"two\",\n  \"three\",\n  \"four\",\n  \"five\",\n  \"six\",\n  \"seven\",\n  \"eight\",\n  \"nine\",\n] as const;\n\nconst CardSectionItem: React.FC<{\n  text: string;\n  onDelete: () => void;\n  onOpen: () => void;\n  color: (typeof colorKeys)[number];\n  index: number;\n}> = ({ text, onDelete, onOpen, color }) => {\n  const { toast } = useToast();\n\n  const handleCopy = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    navigator.clipboard.writeText(text);\n    toast({\n      description: \"Text copied to clipboard\",\n      duration: 2000,\n    });\n  };\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, scale: 0.9 }}\n      animate={{ opacity: 1, scale: 1 }}\n      exit={{ opacity: 0, scale: 0.9 }}\n      transition={{\n        duration: 0.2,\n        ease: \"easeOut\",\n      }}\n      layout\n    >\n      <Card\n        className=\"w-full mb-2 transition-all cursor-pointer flex flex-col min-h-[80px]\"\n        color={color}\n      >\n        <CardHeader>\n          <CardTitle>{text}</CardTitle>\n        </CardHeader>\n        <CardFooter>\n          <button\n            onClick={handleCopy}\n            className=\"p-1 hover:bg-gray-300/50 bg-gray-100/50 rounded ml-auto\"\n            aria-label=\"Copy to clipboard\"\n          >\n            <Copy className=\"w-4 h-4\" />\n          </button>\n          <button\n            onClick={(e) => {\n              e.stopPropagation();\n              onDelete();\n            }}\n            className=\"p-1 hover:bg-gray-300/50 bg-gray-100/50 rounded\"\n            aria-label=\"Delete Card\"\n          >\n            <Trash2 className=\"w-4 h-4\" />\n          </button>\n          <button\n            onClick={(e) => {\n              e.stopPropagation();\n              onOpen();\n            }}\n            className=\"p-1 hover:bg-gray-300/50 bg-gray-100/50 rounded\"\n            aria-label=\"Open in modal\"\n          >\n            <Maximize2 className=\"w-4 h-4\" />\n          </button>\n        </CardFooter>\n      </Card>\n    </motion.div>\n  );\n};\n\ninterface CardSectionProps {\n  history: string[];\n  onDeleteHistory: (index: number) => void;\n  onOpenModal: (text: string) => void;\n}\n\nconst CardSection: React.FC<CardSectionProps> = ({\n  history,\n  onDeleteHistory,\n  onOpenModal,\n}) => {\n  return (\n    <div className=\"h-full overflow-y-auto w-full max-w-[800px] px-4 sm:px-0\">\n      <div className=\"mb-6 sm:mb-8\"></div>\n      <AnimatePresence>\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 auto-rows-fr\">\n          {history.map((text, index) => (\n            <CardSectionItem\n              key={`${text}-${index}`}\n              text={text}\n              onDelete={() => onDeleteHistory(index)}\n              onOpen={() => onOpenModal(text)}\n              color={colorKeys[index % colorKeys.length]}\n              index={index}\n            />\n          ))}\n        </div>\n      </AnimatePresence>\n    </div>\n  );\n};\n\nexport default CardSection;\n"],"names":[],"mappings":";;;;;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;;;;;;AAEA,MAAM,YAAY;IAChB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAED,MAAM,kBAMD,CAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,MAAM,EAAE,KAAK,EAAE;IACrC,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,wKAAQ;IAE1B,MAAM,aAAa,CAAC;QAClB,EAAE,eAAe;QACjB,UAAU,SAAS,CAAC,SAAS,CAAC;QAC9B,MAAM;YACJ,aAAa;YACb,UAAU;QACZ;IACF;IAEA,qBACE,sbAAC,wXAAM,CAAC,GAAG;QACT,SAAS;YAAE,SAAS;YAAG,OAAO;QAAI;QAClC,SAAS;YAAE,SAAS;YAAG,OAAO;QAAE;QAChC,MAAM;YAAE,SAAS;YAAG,OAAO;QAAI;QAC/B,YAAY;YACV,UAAU;YACV,MAAM;QACR;QACA,MAAM;kBAEN,cAAA,sbAAC,+KAAI;YACH,WAAU;YACV,OAAO;;8BAEP,sbAAC,qLAAU;8BACT,cAAA,sbAAC,oLAAS;kCAAE;;;;;;;;;;;8BAEd,sbAAC,qLAAU;;sCACT,sbAAC;4BACC,SAAS;4BACT,WAAU;4BACV,cAAW;sCAEX,cAAA,sbAAC,qUAAI;gCAAC,WAAU;;;;;;;;;;;sCAElB,sbAAC;4BACC,SAAS,CAAC;gCACR,EAAE,eAAe;gCACjB;4BACF;4BACA,WAAU;4BACV,cAAW;sCAEX,cAAA,sbAAC,+UAAM;gCAAC,WAAU;;;;;;;;;;;sCAEpB,sbAAC;4BACC,SAAS,CAAC;gCACR,EAAE,eAAe;gCACjB;4BACF;4BACA,WAAU;4BACV,cAAW;sCAEX,cAAA,sbAAC,wVAAS;gCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMjC;AAQA,MAAM,cAA0C,CAAC,EAC/C,OAAO,EACP,eAAe,EACf,WAAW,EACZ;IACC,qBACE,sbAAC;QAAI,WAAU;;0BACb,sbAAC;gBAAI,WAAU;;;;;;0BACf,sbAAC,gYAAe;0BACd,cAAA,sbAAC;oBAAI,WAAU;8BACZ,QAAQ,GAAG,CAAC,CAAC,MAAM,sBAClB,sbAAC;4BAEC,MAAM;4BACN,UAAU,IAAM,gBAAgB;4BAChC,QAAQ,IAAM,YAAY;4BAC1B,OAAO,SAAS,CAAC,QAAQ,UAAU,MAAM,CAAC;4BAC1C,OAAO;2BALF,GAAG,KAAK,CAAC,EAAE,OAAO;;;;;;;;;;;;;;;;;;;;;AAYrC;uCAEe"}},
    {"offset": {"line": 297, "column": 0}, "map": {"version":3,"sources":["file:///home/clj/repo/voice-to-text-next/components/ui/dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogTrigger,\n  DialogClose,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,SAAS,kaAAoB;AAEnC,MAAM,gBAAgB,qaAAuB;AAE7C,MAAM,eAAe,oaAAsB;AAE3C,MAAM,cAAc,maAAqB;AAEzC,MAAM,8BAAgB,2ZAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,sbAAC,qaAAuB;QACtB,KAAK;QACL,WAAW,IAAA,yJAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;AAGb,cAAc,WAAW,GAAG,qaAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,2ZAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,sbAAC;;0BACC,sbAAC;;;;;0BACD,sbAAC,qaAAuB;gBACtB,KAAK;gBACL,WAAW,IAAA,yJAAE,EACX,uVACA;gBAED,GAAG,KAAK;;oBAER;kCACD,sbAAC,maAAqB;wBAAC,WAAU;;0CAC/B,sbAAC,4TAAC;gCAAC,WAAU;;;;;;0CACb,sbAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,cAAc,WAAW,GAAG,qaAAuB,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,sbAAC;QACC,WAAW,IAAA,yJAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;AAGb,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,sbAAC;QACC,WAAW,IAAA,yJAAE,EACX,iEACA;QAED,GAAG,KAAK;;;;;;AAGb,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,2ZAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,sbAAC,maAAqB;QACpB,KAAK;QACL,WAAW,IAAA,yJAAE,EACX,qDACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,maAAqB,CAAC,WAAW;AAE3D,MAAM,kCAAoB,2ZAAgB,CAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,sbAAC,yaAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,yJAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,kBAAkB,WAAW,GAAG,yaAA2B,CAAC,WAAW"}},
    {"offset": {"line": 437, "column": 0}, "map": {"version":3,"sources":["file:///home/clj/repo/voice-to-text-next/app/components/Modal.tsx"],"sourcesContent":["import React from \"react\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogClose,\n  DialogFooter,\n} from \"@/components/ui/dialog\";\nimport { X, Copy, Check } from \"lucide-react\";\nimport { useState } from \"react\";\n\nexport interface ModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  title: string;\n  content: string;\n}\n\nconst Modal: React.FC<ModalProps> = ({ isOpen, onClose, title, content }) => {\n  const [copied, setCopied] = useState(false);\n\n  const handleCopy = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    navigator.clipboard.writeText(content);\n    setCopied(true);\n    setTimeout(() => setCopied(false), 2000);\n  };\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose}>\n      <DialogContent className=\"bg-gray-900 border border-gray-700\">\n        <div className=\"absolute right-4 top-4\">\n          <DialogClose className=\"rounded-sm opacity-70 ring-offset-gray-900 transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-gray-800\">\n            <X className=\"h-4 w-4 text-white\" />\n            <span className=\"sr-only\">Close</span>\n          </DialogClose>\n        </div>\n        <DialogHeader>\n          <DialogTitle className=\"text-white\">{title}</DialogTitle>\n        </DialogHeader>\n        <div className=\"mt-2\">\n          <p className=\"text-sm text-white\">{content}</p>\n        </div>\n        <DialogFooter>\n          <button\n            onClick={handleCopy}\n            className=\"p-1 hover:bg-gray-300/50 bg-gray-100/50 rounded ml-auto flex items-center gap-2\"\n            aria-label=\"Copy to clipboard\"\n          >\n            {copied ? (\n              <>\n                <Check className=\"h-4 w-4\" />\n                <span className=\"text-sm\">Copied!</span>\n              </>\n            ) : (\n              <>\n                <Copy className=\"h-4 w-4\" />\n                <span className=\"text-sm\">Copy</span>\n              </>\n            )}\n          </button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nexport default Modal;\n"],"names":[],"mappings":";;;;;AACA;AAQA;AAAA;AAAA;AACA;;;;;AASA,MAAM,QAA8B,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE;IACtE,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yZAAQ,EAAC;IAErC,MAAM,aAAa,CAAC;QAClB,EAAE,eAAe;QACjB,UAAU,SAAS,CAAC,SAAS,CAAC;QAC9B,UAAU;QACV,WAAW,IAAM,UAAU,QAAQ;IACrC;IAEA,qBACE,sbAAC,4KAAM;QAAC,MAAM;QAAQ,cAAc;kBAClC,cAAA,sbAAC,mLAAa;YAAC,WAAU;;8BACvB,sbAAC;oBAAI,WAAU;8BACb,cAAA,sbAAC,iLAAW;wBAAC,WAAU;;0CACrB,sbAAC,4TAAC;gCAAC,WAAU;;;;;;0CACb,sbAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;8BAG9B,sbAAC,kLAAY;8BACX,cAAA,sbAAC,iLAAW;wBAAC,WAAU;kCAAc;;;;;;;;;;;8BAEvC,sbAAC;oBAAI,WAAU;8BACb,cAAA,sbAAC;wBAAE,WAAU;kCAAsB;;;;;;;;;;;8BAErC,sbAAC,kLAAY;8BACX,cAAA,sbAAC;wBACC,SAAS;wBACT,WAAU;wBACV,cAAW;kCAEV,uBACC;;8CACE,sbAAC,wUAAK;oCAAC,WAAU;;;;;;8CACjB,sbAAC;oCAAK,WAAU;8CAAU;;;;;;;yDAG5B;;8CACE,sbAAC,qUAAI;oCAAC,WAAU;;;;;;8CAChB,sbAAC;oCAAK,WAAU;8CAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQ1C;uCAEe"}},
    {"offset": {"line": 594, "column": 0}, "map": {"version":3,"sources":["file:///home/clj/repo/voice-to-text-next/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground shadow hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2\",\n        sm: \"h-8 rounded-md px-3 text-xs\",\n        lg: \"h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,IAAA,yRAAG,EACxB,ySACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,2ZAAgB,CAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,mVAAI,GAAG;IAC9B,qBACE,sbAAC;QACC,WAAW,IAAA,yJAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 654, "column": 0}, "map": {"version":3,"sources":["file:///home/clj/repo/voice-to-text-next/components/ui/dropdown-menu.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md\",\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 865, "column": 0}, "map": {"version":3,"sources":["file:///home/clj/repo/voice-to-text-next/app/components/DarkLightToggle.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport { Moon, Sun } from \"lucide-react\";\nimport { useTheme } from \"next-themes\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\n\nexport function ModeToggle() {\n  const { setTheme } = useTheme();\n\n  return (\n    <DropdownMenu>\n      <DropdownMenuTrigger asChild>\n        <Button variant=\"outline\" size=\"icon\">\n          <Sun className=\"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0\" />\n          <Moon className=\"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100\" />\n          <span className=\"sr-only\">Toggle theme</span>\n        </Button>\n      </DropdownMenuTrigger>\n      <DropdownMenuContent align=\"end\">\n        <DropdownMenuItem onClick={() => setTheme(\"light\")}>\n          Light\n        </DropdownMenuItem>\n        <DropdownMenuItem onClick={() => setTheme(\"dark\")}>\n          Dark\n        </DropdownMenuItem>\n        <DropdownMenuItem onClick={() => setTheme(\"system\")}>\n          System\n        </DropdownMenuItem>\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n}\n"],"names":[],"mappings":";;;;;AAGA;AAAA;AACA;AACA;AACA;AANA;;;;;;AAaO,SAAS;IACd,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAA,2UAAQ;IAE7B,qBACE,sbAAC,4LAAY;;0BACX,sbAAC,mMAAmB;gBAAC,OAAO;0BAC1B,cAAA,sbAAC,4KAAM;oBAAC,SAAQ;oBAAU,MAAK;;sCAC7B,sbAAC,kUAAG;4BAAC,WAAU;;;;;;sCACf,sbAAC,qUAAI;4BAAC,WAAU;;;;;;sCAChB,sbAAC;4BAAK,WAAU;sCAAU;;;;;;;;;;;;;;;;;0BAG9B,sbAAC,mMAAmB;gBAAC,OAAM;;kCACzB,sbAAC,gMAAgB;wBAAC,SAAS,IAAM,SAAS;kCAAU;;;;;;kCAGpD,sbAAC,gMAAgB;wBAAC,SAAS,IAAM,SAAS;kCAAS;;;;;;kCAGnD,sbAAC,gMAAgB;wBAAC,SAAS,IAAM,SAAS;kCAAW;;;;;;;;;;;;;;;;;;AAM7D"}},
    {"offset": {"line": 968, "column": 0}, "map": {"version":3,"sources":["file:///home/clj/repo/voice-to-text-next/app/components/DictationButton.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { Mic, StopCircle } from \"lucide-react\";\n\ninterface DictationButtonProps {\n  isRecording: boolean;\n  onStartRecording: () => void;\n  onStopRecording: () => void;\n}\n\nexport default function DictationButton({\n  isRecording,\n  onStartRecording,\n  onStopRecording,\n}: DictationButtonProps) {\n  useEffect(() => {\n    console.log(\"DictationButton: isRecording changed to\", isRecording);\n  }, [isRecording]);\n\n  const handleStartClick = () => {\n    console.log(\"Start button clicked, calling onStartRecording\");\n    onStartRecording();\n  };\n\n  const handleStopClick = () => {\n    console.log(\"Stop button clicked, calling onStopRecording\");\n    onStopRecording();\n  };\n\n  // Electron configuration - 3 electrons with different speeds and starting positions\n  const electrons = [\n    { duration: 2, startAngle: 0, color: \"#ef4444\", orbitSize: 100 },\n    { duration: 2.5, startAngle: 120, color: \"#3b82f6\", orbitSize: 100 },\n    { duration: 3, startAngle: 240, color: \"#22c55e\", orbitSize: 100 },\n  ];\n\n  return (\n    <div className=\"flex items-center justify-center w-full\">\n      <div className=\"relative w-[120px] h-[120px] flex items-center justify-center\">\n        {/* Dashed orbit ring */}\n        <AnimatePresence>\n          {isRecording && (\n            <motion.svg\n              className=\"absolute\"\n              width=\"100\"\n              height=\"100\"\n              viewBox=\"0 0 100 100\"\n              initial={{ opacity: 0, scale: 0.8 }}\n              animate={{ opacity: 1, scale: 1 }}\n              exit={{ opacity: 0, scale: 0.8 }}\n              transition={{ duration: 0.3 }}\n            >\n              <circle\n                cx=\"50\"\n                cy=\"50\"\n                r=\"46\"\n                fill=\"none\"\n                stroke=\"#9ca3af\"\n                strokeWidth=\"1.5\"\n                strokeDasharray=\"4,4\"\n                opacity=\"0.5\"\n              />\n            </motion.svg>\n          )}\n        </AnimatePresence>\n\n        {/* Orbiting electrons */}\n        <AnimatePresence>\n          {isRecording &&\n            electrons.map((electron, index) => (\n              <motion.div\n                key={`electron-${index}`}\n                className=\"absolute w-[100px] h-[100px]\"\n                initial={{ opacity: 0, rotate: electron.startAngle }}\n                animate={{ opacity: 1, rotate: electron.startAngle + 360 }}\n                exit={{ opacity: 0 }}\n                transition={{\n                  opacity: { duration: 0.3 },\n                  rotate: {\n                    duration: electron.duration,\n                    repeat: Infinity,\n                    ease: \"linear\",\n                  },\n                }}\n              >\n                <div\n                  className=\"absolute w-3 h-3 rounded-full\"\n                  style={{\n                    backgroundColor: electron.color,\n                    top: \"-6px\",\n                    left: \"50%\",\n                    marginLeft: \"-6px\",\n                    boxShadow: `0 0 8px 3px ${electron.color}80`,\n                  }}\n                />\n              </motion.div>\n            ))}\n        </AnimatePresence>\n\n        {/* Glow effect when recording */}\n        <AnimatePresence>\n          {isRecording && (\n            <motion.div\n              className=\"absolute w-16 h-16 rounded-full bg-red-500/20 z-0\"\n              initial={{ opacity: 0, scale: 1 }}\n              animate={{\n                opacity: [0.2, 0.4, 0.2],\n                scale: [1, 1.3, 1],\n              }}\n              exit={{ opacity: 0, scale: 1 }}\n              transition={{\n                duration: 1.5,\n                repeat: Infinity,\n                ease: \"easeInOut\",\n              }}\n            />\n          )}\n        </AnimatePresence>\n\n        {/* Center button - 64px size */}\n        <motion.button\n          className={`relative z-10 w-16 h-16 rounded-full shadow-lg flex items-center justify-center transition-colors ${\n            isRecording\n              ? \"bg-red-500 hover:bg-red-600\"\n              : \"bg-blue-500 hover:bg-blue-600\"\n          }`}\n          whileHover={{ scale: 1.05 }}\n          whileTap={{ scale: 0.95 }}\n          onClick={isRecording ? handleStopClick : handleStartClick}\n          aria-label={isRecording ? \"Stop recording\" : \"Start recording\"}\n        >\n          {isRecording ? (\n            <StopCircle className=\"w-8 h-8 text-white\" />\n          ) : (\n            <Mic className=\"w-8 h-8 text-white\" />\n          )}\n        </motion.button>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AAAA;AAJA;;;;;AAYe,SAAS,gBAAgB,EACtC,WAAW,EACX,gBAAgB,EAChB,eAAe,EACM;IACrB,IAAA,0ZAAS,EAAC;QACR,QAAQ,GAAG,CAAC,2CAA2C;IACzD,GAAG;QAAC;KAAY;IAEhB,MAAM,mBAAmB;QACvB,QAAQ,GAAG,CAAC;QACZ;IACF;IAEA,MAAM,kBAAkB;QACtB,QAAQ,GAAG,CAAC;QACZ;IACF;IAEA,oFAAoF;IACpF,MAAM,YAAY;QAChB;YAAE,UAAU;YAAG,YAAY;YAAG,OAAO;YAAW,WAAW;QAAI;QAC/D;YAAE,UAAU;YAAK,YAAY;YAAK,OAAO;YAAW,WAAW;QAAI;QACnE;YAAE,UAAU;YAAG,YAAY;YAAK,OAAO;YAAW,WAAW;QAAI;KAClE;IAED,qBACE,sbAAC;QAAI,WAAU;kBACb,cAAA,sbAAC;YAAI,WAAU;;8BAEb,sbAAC,gYAAe;8BACb,6BACC,sbAAC,wXAAM,CAAC,GAAG;wBACT,WAAU;wBACV,OAAM;wBACN,QAAO;wBACP,SAAQ;wBACR,SAAS;4BAAE,SAAS;4BAAG,OAAO;wBAAI;wBAClC,SAAS;4BAAE,SAAS;4BAAG,OAAO;wBAAE;wBAChC,MAAM;4BAAE,SAAS;4BAAG,OAAO;wBAAI;wBAC/B,YAAY;4BAAE,UAAU;wBAAI;kCAE5B,cAAA,sbAAC;4BACC,IAAG;4BACH,IAAG;4BACH,GAAE;4BACF,MAAK;4BACL,QAAO;4BACP,aAAY;4BACZ,iBAAgB;4BAChB,SAAQ;;;;;;;;;;;;;;;;8BAOhB,sbAAC,gYAAe;8BACb,eACC,UAAU,GAAG,CAAC,CAAC,UAAU,sBACvB,sbAAC,wXAAM,CAAC,GAAG;4BAET,WAAU;4BACV,SAAS;gCAAE,SAAS;gCAAG,QAAQ,SAAS,UAAU;4BAAC;4BACnD,SAAS;gCAAE,SAAS;gCAAG,QAAQ,SAAS,UAAU,GAAG;4BAAI;4BACzD,MAAM;gCAAE,SAAS;4BAAE;4BACnB,YAAY;gCACV,SAAS;oCAAE,UAAU;gCAAI;gCACzB,QAAQ;oCACN,UAAU,SAAS,QAAQ;oCAC3B,QAAQ;oCACR,MAAM;gCACR;4BACF;sCAEA,cAAA,sbAAC;gCACC,WAAU;gCACV,OAAO;oCACL,iBAAiB,SAAS,KAAK;oCAC/B,KAAK;oCACL,MAAM;oCACN,YAAY;oCACZ,WAAW,CAAC,YAAY,EAAE,SAAS,KAAK,CAAC,EAAE,CAAC;gCAC9C;;;;;;2BAtBG,CAAC,SAAS,EAAE,OAAO;;;;;;;;;;8BA6BhC,sbAAC,gYAAe;8BACb,6BACC,sbAAC,wXAAM,CAAC,GAAG;wBACT,WAAU;wBACV,SAAS;4BAAE,SAAS;4BAAG,OAAO;wBAAE;wBAChC,SAAS;4BACP,SAAS;gCAAC;gCAAK;gCAAK;6BAAI;4BACxB,OAAO;gCAAC;gCAAG;gCAAK;6BAAE;wBACpB;wBACA,MAAM;4BAAE,SAAS;4BAAG,OAAO;wBAAE;wBAC7B,YAAY;4BACV,UAAU;4BACV,QAAQ;4BACR,MAAM;wBACR;;;;;;;;;;;8BAMN,sbAAC,wXAAM,CAAC,MAAM;oBACZ,WAAW,CAAC,kGAAkG,EAC5G,cACI,gCACA,iCACJ;oBACF,YAAY;wBAAE,OAAO;oBAAK;oBAC1B,UAAU;wBAAE,OAAO;oBAAK;oBACxB,SAAS,cAAc,kBAAkB;oBACzC,cAAY,cAAc,mBAAmB;8BAE5C,4BACC,sbAAC,2VAAU;wBAAC,WAAU;;;;;6CAEtB,sbAAC,kUAAG;wBAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;AAM3B"}},
    {"offset": {"line": 1198, "column": 0}, "map": {"version":3,"sources":["file:///home/clj/repo/voice-to-text-next/app/components/SpeechRecognitionService.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useRef, useCallback } from \"react\";\n\ninterface SpeechRecognitionConstructor {\n  new (): SpeechRecognition;\n  prototype: SpeechRecognition;\n}\n\ndeclare global {\n  interface Window {\n    SpeechRecognition: SpeechRecognitionConstructor;\n    webkitSpeechRecognition: SpeechRecognitionConstructor;\n  }\n}\n\nconst SILENCE_TIMEOUT = 5000;\n\nexport function useSpeechRecognition() {\n  const [isRecording, setIsRecording] = useState<boolean>(false);\n  const [transcription, setTranscription] = useState<string>(\"\");\n  const [error, setError] = useState<string | null>(null);\n  const recognitionRef = useRef<SpeechRecognition | null>(null);\n  const silenceTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n  const lastResultTimeRef = useRef<number>(0);\n  const isRecordingRef = useRef<boolean>(false);\n\n  useEffect(() => {\n    isRecordingRef.current = isRecording;\n    console.log(\"SpeechService: isRecording changed to\", isRecording);\n  }, [isRecording]);\n\n  const clearTranscription = useCallback(() => {\n    setTranscription(\"\");\n  }, []);\n\n  const stopRecording = useCallback(() => {\n    console.log(\"Stopping recording called\");\n    if (silenceTimeoutRef.current) {\n      clearTimeout(silenceTimeoutRef.current);\n      silenceTimeoutRef.current = null;\n    }\n    setIsRecording(false);\n    if (!recognitionRef.current) {\n      console.log(\"No recognition ref available\");\n      return;\n    }\n    try {\n      console.log(\n        \"Attempting to stop recognition, current state:\",\n        isRecordingRef.current\n      );\n      recognitionRef.current.stop();\n      console.log(\"Recognition stopped successfully\");\n    } catch (error) {\n      console.error(\"Error stopping recording:\", error);\n    }\n  }, []);\n\n  const startRecording = useCallback(() => {\n    console.log(\"Start recording called\");\n    if (!recognitionRef.current) {\n      console.error(\"Speech recognition not available\");\n      setError(\"Speech recognition not available\");\n      return;\n    }\n    try {\n      setError(null);\n      setTranscription(\"\");\n      console.log(\"Starting recognition...\");\n      recognitionRef.current.start();\n      console.log(\"Recognition started!\");\n      setIsRecording(true);\n      lastResultTimeRef.current = Date.now();\n      if (silenceTimeoutRef.current) {\n        clearTimeout(silenceTimeoutRef.current);\n      }\n      silenceTimeoutRef.current = setTimeout(() => {\n        console.log(\"Initial silence detected\");\n        if (isRecordingRef.current) {\n          stopRecording();\n        }\n      }, SILENCE_TIMEOUT);\n    } catch (error) {\n      console.error(\"Error starting recording:\", error);\n      if (error instanceof DOMException && error.name === \"InvalidStateError\") {\n        console.log(\"Recognition was already running, stopping first...\");\n        try {\n          recognitionRef.current.stop();\n          console.log(\"Successfully stopped recognition\");\n          setTimeout(() => {\n            console.log(\"Attempting to restart recognition\");\n            try {\n              recognitionRef.current?.start();\n              setIsRecording(true);\n              console.log(\"Successfully restarted recognition\");\n            } catch (retryError) {\n              console.error(\"Failed to restart recognition:\", retryError);\n              setError(\n                \"Failed to start recording. Please refresh and try again.\"\n              );\n            }\n          }, 300);\n        } catch (stopError) {\n          console.error(\"Failed to stop existing recognition:\", stopError);\n          setError(\"Failed to reset recording state. Please refresh the page.\");\n        }\n      } else {\n        setError(\n          \"Failed to start recording: \" +\n            (error instanceof Error ? error.message : String(error))\n        );\n      }\n    }\n  }, [stopRecording]);\n\n  useEffect(() => {\n    console.log(\"Initializing speech recognition...\");\n    const SpeechRecognition =\n      window.SpeechRecognition || window.webkitSpeechRecognition;\n    if (!SpeechRecognition) {\n      console.error(\"Speech recognition not supported\");\n      setError(\"Speech recognition is not supported in this browser.\");\n      return;\n    }\n    try {\n      const recognition = new SpeechRecognition();\n      recognition.continuous = true;\n      recognition.interimResults = true;\n      recognition.lang = \"en-US\";\n      recognitionRef.current = recognition;\n      console.log(\"Speech recognition initialized successfully\");\n    } catch (error) {\n      console.error(\"Error initializing speech recognition:\", error);\n      setError(\"Failed to initialize speech recognition.\");\n    }\n    return () => {\n      console.log(\"Cleaning up speech recognition\");\n      if (silenceTimeoutRef.current) {\n        clearTimeout(silenceTimeoutRef.current);\n      }\n      try {\n        if (isRecordingRef.current && recognitionRef.current) {\n          recognitionRef.current.stop();\n        }\n      } catch (error) {\n        console.error(\"Error during cleanup:\", error);\n      }\n    };\n  }, []);\n\n  const handleResult = useCallback(\n    (event: SpeechRecognitionEvent): void => {\n      console.log(\"Speech recognition result received\");\n      lastResultTimeRef.current = Date.now();\n      let interimTranscript = \"\";\n      let finalTranscript = \"\";\n      for (let i = event.resultIndex; i < event.results.length; ++i) {\n        if (event.results[i].isFinal) {\n          finalTranscript += event.results[i][0].transcript;\n        } else {\n          interimTranscript += event.results[i][0].transcript;\n        }\n      }\n      const newTranscription = finalTranscript || interimTranscript;\n      if (newTranscription) {\n        console.log(\"New transcription:\", newTranscription);\n        setTranscription((prev) => newTranscription || prev);\n      }\n      if (silenceTimeoutRef.current) {\n        clearTimeout(silenceTimeoutRef.current);\n      }\n      silenceTimeoutRef.current = setTimeout(() => {\n        console.log(\"Silence detected, stopping recording\");\n        if (isRecordingRef.current) {\n          stopRecording();\n        }\n      }, SILENCE_TIMEOUT);\n    },\n    [stopRecording]\n  );\n\n  const handleEnd = useCallback((): void => {\n    console.log(\"Recognition ended event fired\");\n    if (silenceTimeoutRef.current) {\n      clearTimeout(silenceTimeoutRef.current);\n      silenceTimeoutRef.current = null;\n    }\n    setIsRecording(false);\n  }, []);\n\n  const handleError = useCallback(\n    (event: SpeechRecognitionErrorEvent): void => {\n      console.error(\"Speech recognition error:\", event.error);\n      setError(`Speech recognition error: ${event.error}`);\n      setIsRecording(false);\n      if (silenceTimeoutRef.current) {\n        clearTimeout(silenceTimeoutRef.current);\n        silenceTimeoutRef.current = null;\n      }\n    },\n    []\n  );\n\n  useEffect(() => {\n    const recognition = recognitionRef.current;\n    if (!recognition) {\n      console.log(\"No recognition object available for event listeners\");\n      return;\n    }\n    console.log(\"Setting up speech recognition event listeners\");\n    recognition.addEventListener(\"result\", handleResult);\n    recognition.addEventListener(\"end\", handleEnd);\n    recognition.addEventListener(\"error\", handleError);\n    return () => {\n      console.log(\"Removing speech recognition event listeners\");\n      recognition.removeEventListener(\"result\", handleResult);\n      recognition.removeEventListener(\"end\", handleEnd);\n      recognition.removeEventListener(\"error\", handleError);\n    };\n  }, [handleResult, handleEnd, handleError]);\n\n  return {\n    isRecording,\n    transcription,\n    error,\n    startRecording,\n    stopRecording,\n    clearTranscription,\n  };\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1408, "column": 0}, "map": {"version":3,"sources":["file:///home/clj/repo/voice-to-text-next/app/components/DictationApp.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect } from \"react\";\nimport CardSection from \"./CardSection\";\nimport Modal from \"./Modal\";\nimport { ModeToggle } from \"./DarkLightToggle\";\nimport DictationButton from \"./DictationButton\";\nimport { useSpeechRecognition } from \"./SpeechRecognitionService\";\nimport { Button } from \"@/components/ui/button\";\nimport { Trash2 } from \"lucide-react\";\n\nconst STORAGE_KEY = \"voice-to-text-history\";\n\nexport default function DictationApp(): React.ReactElement {\n  const {\n    isRecording,\n    transcription,\n    error,\n    startRecording,\n    stopRecording,\n    clearTranscription,\n  } = useSpeechRecognition();\n\n  const [history, setHistory] = useState<string[]>([]);\n  const [modalOpen, setModalOpen] = useState<boolean>(false);\n  const [selectedText, setSelectedText] = useState<string>(\"\");\n  const [lastSavedTranscription, setLastSavedTranscription] =\n    useState<string>(\"\");\n\n  useEffect(() => {\n    const savedHistory = localStorage.getItem(STORAGE_KEY);\n    if (savedHistory) {\n      try {\n        setHistory(JSON.parse(savedHistory));\n      } catch (error) {\n        console.error(\"Failed to parse saved history:\", error);\n      }\n    }\n  }, []);\n\n  useEffect(() => {\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(history));\n  }, [history]);\n\n  useEffect(() => {\n    if (\n      !isRecording &&\n      transcription.trim() &&\n      transcription !== lastSavedTranscription\n    ) {\n      setHistory((prev) => [transcription, ...prev].slice(0, 10));\n      setLastSavedTranscription(transcription);\n    }\n  }, [isRecording, transcription, lastSavedTranscription]);\n\n  const handleDeleteHistory = (index: number): void => {\n    setHistory((prev) => {\n      const newHistory = [...prev];\n      newHistory.splice(index, 1);\n      return newHistory;\n    });\n  };\n\n  const handleOpenModal = (text: string): void => {\n    setSelectedText(text);\n    setModalOpen(true);\n  };\n\n  const handleDeleteAll = (): void => {\n    setHistory(() => []);\n    clearTranscription();\n    setLastSavedTranscription(\"\");\n    localStorage.removeItem(STORAGE_KEY);\n    setTimeout(() => {\n      if (history.length > 0) {\n        console.log(\"Forcing history clear\");\n        setHistory(() => []);\n      }\n    }, 100);\n  };\n\n  return (\n    <div className=\"flex flex-col min-h-screen items-center justify-center p-4\">\n      <div className=\"p-4 sm:p-6 rounded-lg shadow-xl w-full max-w-[800px] dark:bg-slate-600 bg-slate-400\">\n        <div className=\"w-full flex justify-center mb-4\">\n          <DictationButton\n            isRecording={isRecording}\n            onStartRecording={startRecording}\n            onStopRecording={stopRecording}\n          />\n        </div>\n        <div className=\"w-full max-w-[800px] mt-4\">\n          {error && (\n            <div className=\"text-red-500 text-center mb-4\">{error}</div>\n          )}\n          {transcription && (\n            <div className=\"p-4 bg-white/10 rounded-lg mb-4\">\n              <p className=\"text-white\">{transcription}</p>\n            </div>\n          )}\n          <CardSection\n            history={history}\n            onDeleteHistory={handleDeleteHistory}\n            onOpenModal={handleOpenModal}\n          />\n        </div>\n      </div>\n\n      <div className=\"fixed bottom-4 right-4 flex gap-2\">\n        <ModeToggle />\n        <Button\n          variant=\"destructive\"\n          size=\"icon\"\n          onClick={handleDeleteAll}\n          aria-label=\"Delete all\"\n        >\n          <Trash2 className=\"h-4 w-4\" />\n        </Button>\n      </div>\n\n      <Modal\n        isOpen={modalOpen}\n        onClose={() => setModalOpen(false)}\n        title=\"Transcription\"\n        content={selectedText}\n      />\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;;;;;;;;;;AAWA,MAAM,cAAc;AAEL,SAAS;IACtB,MAAM,EACJ,WAAW,EACX,aAAa,EACb,KAAK,EACL,cAAc,EACd,aAAa,EACb,kBAAkB,EACnB,GAAG,IAAA,6MAAoB;IAExB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yZAAQ,EAAW,EAAE;IACnD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yZAAQ,EAAU;IACpD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yZAAQ,EAAS;IACzD,MAAM,CAAC,wBAAwB,0BAA0B,GACvD,IAAA,yZAAQ,EAAS;IAEnB,IAAA,0ZAAS,EAAC;QACR,MAAM,eAAe,aAAa,OAAO,CAAC;QAC1C,IAAI,cAAc;YAChB,IAAI;gBACF,WAAW,KAAK,KAAK,CAAC;YACxB,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,kCAAkC;YAClD;QACF;IACF,GAAG,EAAE;IAEL,IAAA,0ZAAS,EAAC;QACR,aAAa,OAAO,CAAC,aAAa,KAAK,SAAS,CAAC;IACnD,GAAG;QAAC;KAAQ;IAEZ,IAAA,0ZAAS,EAAC;QACR,IACE,CAAC,eACD,cAAc,IAAI,MAClB,kBAAkB,wBAClB;YACA,WAAW,CAAC,OAAS;oBAAC;uBAAkB;iBAAK,CAAC,KAAK,CAAC,GAAG;YACvD,0BAA0B;QAC5B;IACF,GAAG;QAAC;QAAa;QAAe;KAAuB;IAEvD,MAAM,sBAAsB,CAAC;QAC3B,WAAW,CAAC;YACV,MAAM,aAAa;mBAAI;aAAK;YAC5B,WAAW,MAAM,CAAC,OAAO;YACzB,OAAO;QACT;IACF;IAEA,MAAM,kBAAkB,CAAC;QACvB,gBAAgB;QAChB,aAAa;IACf;IAEA,MAAM,kBAAkB;QACtB,WAAW,IAAM,EAAE;QACnB;QACA,0BAA0B;QAC1B,aAAa,UAAU,CAAC;QACxB,WAAW;YACT,IAAI,QAAQ,MAAM,GAAG,GAAG;gBACtB,QAAQ,GAAG,CAAC;gBACZ,WAAW,IAAM,EAAE;YACrB;QACF,GAAG;IACL;IAEA,qBACE,sbAAC;QAAI,WAAU;;0BACb,sbAAC;gBAAI,WAAU;;kCACb,sbAAC;wBAAI,WAAU;kCACb,cAAA,sbAAC,uLAAe;4BACd,aAAa;4BACb,kBAAkB;4BAClB,iBAAiB;;;;;;;;;;;kCAGrB,sbAAC;wBAAI,WAAU;;4BACZ,uBACC,sbAAC;gCAAI,WAAU;0CAAiC;;;;;;4BAEjD,+BACC,sbAAC;gCAAI,WAAU;0CACb,cAAA,sbAAC;oCAAE,WAAU;8CAAc;;;;;;;;;;;0CAG/B,sbAAC,mLAAW;gCACV,SAAS;gCACT,iBAAiB;gCACjB,aAAa;;;;;;;;;;;;;;;;;;0BAKnB,sbAAC;gBAAI,WAAU;;kCACb,sbAAC,0LAAU;;;;;kCACX,sbAAC,4KAAM;wBACL,SAAQ;wBACR,MAAK;wBACL,SAAS;wBACT,cAAW;kCAEX,cAAA,sbAAC,+UAAM;4BAAC,WAAU;;;;;;;;;;;;;;;;;0BAItB,sbAAC,6KAAK;gBACJ,QAAQ;gBACR,SAAS,IAAM,aAAa;gBAC5B,OAAM;gBACN,SAAS;;;;;;;;;;;;AAIjB"}}]
}