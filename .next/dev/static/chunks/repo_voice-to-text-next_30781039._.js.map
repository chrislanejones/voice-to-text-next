{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/clj/repo/voice-to-text-next/app/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nconst brightColors = {\n  one: \"oklch(0.89 0.16 0)\",\n  two: \"oklch(0.89 0.16 40)\",\n  three: \"oklch(0.89 0.16 80)\",\n  four: \"oklch(0.89 0.16 120)\",\n  five: \"oklch(0.89 0.16 160)\",\n  six: \"oklch(0.89 0.16 200)\",\n  seven: \"oklch(0.89 0.16 240)\",\n  eight: \"oklch(0.89 0.16 280)\",\n  nine: \"oklch(0.89 0.16 320)\",\n};\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & { color?: keyof typeof brightColors }\n>(({ className, color = \"one\", ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"rounded-lg text-black shadow-md hover:shadow-lg\", className)}\n    style={{ backgroundColor: brightColors[color] }}\n    {...props}\n  />\n));\nCard.displayName = \"Card\";\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col p-4 min-h-20\", className)}\n    {...props}\n  />\n));\nCardHeader.displayName = \"CardHeader\";\n\nconst CardTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h3\n    ref={ref}\n    className={cn(\"text-sm font-medium leading-tight line-clamp-2\", className)}\n    {...props}\n  />\n));\nCardTitle.displayName = \"CardTitle\";\n\nconst CardDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <p\n    ref={ref}\n    className={cn(\"text-xs text-gray-400 mt-1 line-clamp-1\", className)}\n    {...props}\n  />\n));\nCardDescription.displayName = \"CardDescription\";\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-4 pt-0\", className)} {...props} />\n));\nCardContent.displayName = \"CardContent\";\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"flex items-center justify-end gap-2 p-2 pt-0 mt-auto\",\n      className\n    )}\n    {...props}\n  />\n));\nCardFooter.displayName = \"CardFooter\";\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardDescription,\n  CardContent,\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AACA;;;;AAEA,MAAM,eAAe;IACnB,KAAK;IACL,KAAK;IACL,OAAO;IACP,MAAM;IACN,MAAM;IACN,KAAK;IACL,OAAO;IACP,OAAO;IACP,MAAM;AACR;AAEA,MAAM,qBAAO,mXAAgB,MAG3B,CAAC,EAAE,SAAS,EAAE,QAAQ,KAAK,EAAE,GAAG,OAAO,EAAE,oBACzC,qYAAC;QACC,KAAK;QACL,WAAW,IAAA,4JAAE,EAAC,mDAAmD;QACjE,OAAO;YAAE,iBAAiB,YAAY,CAAC,MAAM;QAAC;QAC7C,GAAG,KAAK;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,mXAAgB,OAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,qYAAC;QACC,KAAK;QACL,WAAW,IAAA,4JAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,mXAAgB,OAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,qYAAC;QACC,KAAK;QACL,WAAW,IAAA,4JAAE,EAAC,kDAAkD;QAC/D,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,mXAAgB,OAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,qYAAC;QACC,KAAK;QACL,WAAW,IAAA,4JAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,mXAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,qYAAC;QAAI,KAAK;QAAK,WAAW,IAAA,4JAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,mXAAgB,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,qYAAC;QACC,KAAK;QACL,WAAW,IAAA,4JAAE,EACX,wDACA;QAED,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 125, "column": 0}, "map": {"version":3,"sources":["file:///home/clj/repo/voice-to-text-next/app/components/CardSection.tsx"],"sourcesContent":["import React from \"react\";\nimport { Trash2, Maximize2, Copy } from \"lucide-react\";\nimport { Card, CardHeader, CardTitle, CardFooter } from \"./ui/card\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { useToast } from \"@/hooks/use-toast\";\n\nconst colorKeys = [\n  \"one\",\n  \"two\",\n  \"three\",\n  \"four\",\n  \"five\",\n  \"six\",\n  \"seven\",\n  \"eight\",\n  \"nine\",\n] as const;\n\nconst CardSectionItem: React.FC<{\n  text: string;\n  onDelete: () => void;\n  onOpen: () => void;\n  color: (typeof colorKeys)[number];\n  index: number;\n}> = ({ text, onDelete, onOpen, color }) => {\n  const { toast } = useToast();\n\n  const handleCopy = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    navigator.clipboard.writeText(text);\n    toast({\n      description: \"Text copied to clipboard\",\n      duration: 2000,\n    });\n  };\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, scale: 0.9 }}\n      animate={{ opacity: 1, scale: 1 }}\n      exit={{ opacity: 0, scale: 0.9 }}\n      transition={{\n        duration: 0.2,\n        ease: \"easeOut\",\n      }}\n      layout\n    >\n      <Card\n        className=\"w-full mb-2 transition-all cursor-pointer flex flex-col min-h-[80px]\"\n        color={color}\n      >\n        <CardHeader>\n          <CardTitle>{text}</CardTitle>\n        </CardHeader>\n        <CardFooter>\n          <button\n            onClick={handleCopy}\n            className=\"p-1 hover:bg-gray-300/50 bg-gray-100/50 rounded ml-auto\"\n            aria-label=\"Copy to clipboard\"\n          >\n            <Copy className=\"w-4 h-4\" />\n          </button>\n          <button\n            onClick={(e) => {\n              e.stopPropagation();\n              onDelete();\n            }}\n            className=\"p-1 hover:bg-gray-300/50 bg-gray-100/50 rounded\"\n            aria-label=\"Delete Card\"\n          >\n            <Trash2 className=\"w-4 h-4\" />\n          </button>\n          <button\n            onClick={(e) => {\n              e.stopPropagation();\n              onOpen();\n            }}\n            className=\"p-1 hover:bg-gray-300/50 bg-gray-100/50 rounded\"\n            aria-label=\"Open in modal\"\n          >\n            <Maximize2 className=\"w-4 h-4\" />\n          </button>\n        </CardFooter>\n      </Card>\n    </motion.div>\n  );\n};\n\ninterface CardSectionProps {\n  history: string[];\n  onDeleteHistory: (index: number) => void;\n  onOpenModal: (text: string) => void;\n}\n\nconst CardSection: React.FC<CardSectionProps> = ({\n  history,\n  onDeleteHistory,\n  onOpenModal,\n}) => {\n  return (\n    <div className=\"h-full overflow-y-auto w-full max-w-[800px] px-4 sm:px-0\">\n      <div className=\"mb-6 sm:mb-8\"></div>\n      <AnimatePresence>\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 auto-rows-fr\">\n          {history.map((text, index) => (\n            <CardSectionItem\n              key={`${text}-${index}`}\n              text={text}\n              onDelete={() => onDeleteHistory(index)}\n              onOpen={() => onOpenModal(text)}\n              color={colorKeys[index % colorKeys.length]}\n              index={index}\n            />\n          ))}\n        </div>\n      </AnimatePresence>\n    </div>\n  );\n};\n\nexport default CardSection;\n"],"names":[],"mappings":";;;;;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;;;;;;;AAEA,MAAM,YAAY;IAChB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAED,MAAM,kBAMD,CAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,MAAM,EAAE,KAAK,EAAE;;IACrC,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,2KAAQ;IAE1B,MAAM,aAAa,CAAC;QAClB,EAAE,eAAe;QACjB,UAAU,SAAS,CAAC,SAAS,CAAC;QAC9B,MAAM;YACJ,aAAa;YACb,UAAU;QACZ;IACF;IAEA,qBACE,qYAAC,2XAAM,CAAC,GAAG;QACT,SAAS;YAAE,SAAS;YAAG,OAAO;QAAI;QAClC,SAAS;YAAE,SAAS;YAAG,OAAO;QAAE;QAChC,MAAM;YAAE,SAAS;YAAG,OAAO;QAAI;QAC/B,YAAY;YACV,UAAU;YACV,MAAM;QACR;QACA,MAAM;kBAEN,cAAA,qYAAC,kLAAI;YACH,WAAU;YACV,OAAO;;8BAEP,qYAAC,wLAAU;8BACT,cAAA,qYAAC,uLAAS;kCAAE;;;;;;;;;;;8BAEd,qYAAC,wLAAU;;sCACT,qYAAC;4BACC,SAAS;4BACT,WAAU;4BACV,cAAW;sCAEX,cAAA,qYAAC,wUAAI;gCAAC,WAAU;;;;;;;;;;;sCAElB,qYAAC;4BACC,SAAS,CAAC;gCACR,EAAE,eAAe;gCACjB;4BACF;4BACA,WAAU;4BACV,cAAW;sCAEX,cAAA,qYAAC,kVAAM;gCAAC,WAAU;;;;;;;;;;;sCAEpB,qYAAC;4BACC,SAAS,CAAC;gCACR,EAAE,eAAe;gCACjB;4BACF;4BACA,WAAU;4BACV,cAAW;sCAEX,cAAA,qYAAC,2VAAS;gCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMjC;GApEM;;QAOc,2KAAQ;;;KAPtB;AA4EN,MAAM,cAA0C,CAAC,EAC/C,OAAO,EACP,eAAe,EACf,WAAW,EACZ;IACC,qBACE,qYAAC;QAAI,WAAU;;0BACb,qYAAC;gBAAI,WAAU;;;;;;0BACf,qYAAC,mYAAe;0BACd,cAAA,qYAAC;oBAAI,WAAU;8BACZ,QAAQ,GAAG,CAAC,CAAC,MAAM,sBAClB,qYAAC;4BAEC,MAAM;4BACN,UAAU,IAAM,gBAAgB;4BAChC,QAAQ,IAAM,YAAY;4BAC1B,OAAO,SAAS,CAAC,QAAQ,UAAU,MAAM,CAAC;4BAC1C,OAAO;2BALF,GAAG,KAAK,CAAC,EAAE,OAAO;;;;;;;;;;;;;;;;;;;;;AAYrC;MAxBM;uCA0BS"}},
    {"offset": {"line": 334, "column": 0}, "map": {"version":3,"sources":["file:///home/clj/repo/voice-to-text-next/components/ui/dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogTrigger,\n  DialogClose,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,SAAS,qaAAoB;AAEnC,MAAM,gBAAgB,waAAuB;AAE7C,MAAM,eAAe,uaAAsB;AAE3C,MAAM,cAAc,saAAqB;AAEzC,MAAM,8BAAgB,mXAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,qYAAC,waAAuB;QACtB,KAAK;QACL,WAAW,IAAA,4JAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;KAVP;AAaN,cAAc,WAAW,GAAG,waAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,mXAAgB,OAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,qYAAC;;0BACC,qYAAC;;;;;0BACD,qYAAC,waAAuB;gBACtB,KAAK;gBACL,WAAW,IAAA,4JAAE,EACX,uVACA;gBAED,GAAG,KAAK;;oBAER;kCACD,qYAAC,saAAqB;wBAAC,WAAU;;0CAC/B,qYAAC,+TAAC;gCAAC,WAAU;;;;;;0CACb,qYAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,cAAc,WAAW,GAAG,waAAuB,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,qYAAC;QACC,WAAW,IAAA,4JAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,qYAAC;QACC,WAAW,IAAA,4JAAE,EACX,iEACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,mXAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,qYAAC,saAAqB;QACpB,KAAK;QACL,WAAW,IAAA,4JAAE,EACX,qDACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,saAAqB,CAAC,WAAW;AAE3D,MAAM,kCAAoB,mXAAgB,OAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,qYAAC,4aAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,4JAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,kBAAkB,WAAW,GAAG,4aAA2B,CAAC,WAAW"}},
    {"offset": {"line": 493, "column": 0}, "map": {"version":3,"sources":["file:///home/clj/repo/voice-to-text-next/app/components/Modal.tsx"],"sourcesContent":["import React from \"react\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogClose,\n  DialogFooter,\n} from \"@/components/ui/dialog\";\nimport { X, Copy, Check } from \"lucide-react\";\nimport { useState } from \"react\";\n\nexport interface ModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  title: string;\n  content: string;\n}\n\nconst Modal: React.FC<ModalProps> = ({ isOpen, onClose, title, content }) => {\n  const [copied, setCopied] = useState(false);\n\n  const handleCopy = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    navigator.clipboard.writeText(content);\n    setCopied(true);\n    setTimeout(() => setCopied(false), 2000);\n  };\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose}>\n      <DialogContent className=\"bg-gray-900 border border-gray-700\">\n        <div className=\"absolute right-4 top-4\">\n          <DialogClose className=\"rounded-sm opacity-70 ring-offset-gray-900 transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-gray-800\">\n            <X className=\"h-4 w-4 text-white\" />\n            <span className=\"sr-only\">Close</span>\n          </DialogClose>\n        </div>\n        <DialogHeader>\n          <DialogTitle className=\"text-white\">{title}</DialogTitle>\n        </DialogHeader>\n        <div className=\"mt-2\">\n          <p className=\"text-sm text-white\">{content}</p>\n        </div>\n        <DialogFooter>\n          <button\n            onClick={handleCopy}\n            className=\"p-1 hover:bg-gray-300/50 bg-gray-100/50 rounded ml-auto flex items-center gap-2\"\n            aria-label=\"Copy to clipboard\"\n          >\n            {copied ? (\n              <>\n                <Check className=\"h-4 w-4\" />\n                <span className=\"text-sm\">Copied!</span>\n              </>\n            ) : (\n              <>\n                <Copy className=\"h-4 w-4\" />\n                <span className=\"text-sm\">Copy</span>\n              </>\n            )}\n          </button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nexport default Modal;\n"],"names":[],"mappings":";;;;;AACA;AAQA;AAAA;AAAA;AACA;;;;;;AASA,MAAM,QAA8B,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE;;IACtE,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iXAAQ,EAAC;IAErC,MAAM,aAAa,CAAC;QAClB,EAAE,eAAe;QACjB,UAAU,SAAS,CAAC,SAAS,CAAC;QAC9B,UAAU;QACV,WAAW,IAAM,UAAU,QAAQ;IACrC;IAEA,qBACE,qYAAC,+KAAM;QAAC,MAAM;QAAQ,cAAc;kBAClC,cAAA,qYAAC,sLAAa;YAAC,WAAU;;8BACvB,qYAAC;oBAAI,WAAU;8BACb,cAAA,qYAAC,oLAAW;wBAAC,WAAU;;0CACrB,qYAAC,+TAAC;gCAAC,WAAU;;;;;;0CACb,qYAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;8BAG9B,qYAAC,qLAAY;8BACX,cAAA,qYAAC,oLAAW;wBAAC,WAAU;kCAAc;;;;;;;;;;;8BAEvC,qYAAC;oBAAI,WAAU;8BACb,cAAA,qYAAC;wBAAE,WAAU;kCAAsB;;;;;;;;;;;8BAErC,qYAAC,qLAAY;8BACX,cAAA,qYAAC;wBACC,SAAS;wBACT,WAAU;wBACV,cAAW;kCAEV,uBACC;;8CACE,qYAAC,2UAAK;oCAAC,WAAU;;;;;;8CACjB,qYAAC;oCAAK,WAAU;8CAAU;;;;;;;yDAG5B;;8CACE,qYAAC,wUAAI;oCAAC,WAAU;;;;;;8CAChB,qYAAC;oCAAK,WAAU;8CAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQ1C;GA/CM;KAAA;uCAiDS"}},
    {"offset": {"line": 659, "column": 0}, "map": {"version":3,"sources":["file:///home/clj/repo/voice-to-text-next/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground shadow hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2\",\n        sm: \"h-8 rounded-md px-3 text-xs\",\n        lg: \"h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,IAAA,4RAAG,EACxB,ySACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,mXAAgB,MAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,sVAAI,GAAG;IAC9B,qBACE,qYAAC;QACC,WAAW,IAAA,4JAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 726, "column": 0}, "map": {"version":3,"sources":["file:///home/clj/repo/voice-to-text-next/components/ui/dropdown-menu.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md\",\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 967, "column": 0}, "map": {"version":3,"sources":["file:///home/clj/repo/voice-to-text-next/app/components/DarkLightToggle.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport { Moon, Sun } from \"lucide-react\";\nimport { useTheme } from \"next-themes\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\n\nexport function ModeToggle() {\n  const { setTheme } = useTheme();\n\n  return (\n    <DropdownMenu>\n      <DropdownMenuTrigger asChild>\n        <Button variant=\"outline\" size=\"icon\">\n          <Sun className=\"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0\" />\n          <Moon className=\"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100\" />\n          <span className=\"sr-only\">Toggle theme</span>\n        </Button>\n      </DropdownMenuTrigger>\n      <DropdownMenuContent align=\"end\">\n        <DropdownMenuItem onClick={() => setTheme(\"light\")}>\n          Light\n        </DropdownMenuItem>\n        <DropdownMenuItem onClick={() => setTheme(\"dark\")}>\n          Dark\n        </DropdownMenuItem>\n        <DropdownMenuItem onClick={() => setTheme(\"system\")}>\n          System\n        </DropdownMenuItem>\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n}\n"],"names":[],"mappings":";;;;;AAGA;AAAA;AACA;AACA;AACA;;;AANA;;;;;AAaO,SAAS;;IACd,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAA,8UAAQ;IAE7B,qBACE,qYAAC,+LAAY;;0BACX,qYAAC,sMAAmB;gBAAC,OAAO;0BAC1B,cAAA,qYAAC,+KAAM;oBAAC,SAAQ;oBAAU,MAAK;;sCAC7B,qYAAC,qUAAG;4BAAC,WAAU;;;;;;sCACf,qYAAC,wUAAI;4BAAC,WAAU;;;;;;sCAChB,qYAAC;4BAAK,WAAU;sCAAU;;;;;;;;;;;;;;;;;0BAG9B,qYAAC,sMAAmB;gBAAC,OAAM;;kCACzB,qYAAC,mMAAgB;wBAAC,SAAS,IAAM,SAAS;kCAAU;;;;;;kCAGpD,qYAAC,mMAAgB;wBAAC,SAAS,IAAM,SAAS;kCAAS;;;;;;kCAGnD,qYAAC,mMAAgB;wBAAC,SAAS,IAAM,SAAS;kCAAW;;;;;;;;;;;;;;;;;;AAM7D;GAzBgB;;QACO,8UAAQ;;;KADf"}},
    {"offset": {"line": 1083, "column": 0}, "map": {"version":3,"sources":["file:///home/clj/repo/voice-to-text-next/app/components/SpeechRecognitionService.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useRef, useCallback } from \"react\";\n\ninterface SpeechRecognitionConstructor {\n  new (): SpeechRecognition;\n  prototype: SpeechRecognition;\n}\n\ndeclare global {\n  interface Window {\n    SpeechRecognition: SpeechRecognitionConstructor;\n    webkitSpeechRecognition: SpeechRecognitionConstructor;\n  }\n}\n\nconst SILENCE_TIMEOUT = 5000;\n\nexport function useSpeechRecognition() {\n  const [isRecording, setIsRecording] = useState<boolean>(false);\n  const [transcription, setTranscription] = useState<string>(\"\");\n  const [error, setError] = useState<string | null>(null);\n  const recognitionRef = useRef<SpeechRecognition | null>(null);\n  const silenceTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n  const lastResultTimeRef = useRef<number>(0);\n  const isRecordingRef = useRef<boolean>(false);\n\n  useEffect(() => {\n    isRecordingRef.current = isRecording;\n    console.log(\"SpeechService: isRecording changed to\", isRecording);\n  }, [isRecording]);\n\n  const clearTranscription = useCallback(() => {\n    setTranscription(\"\");\n  }, []);\n\n  const stopRecording = useCallback(() => {\n    console.log(\"Stopping recording called\");\n    if (silenceTimeoutRef.current) {\n      clearTimeout(silenceTimeoutRef.current);\n      silenceTimeoutRef.current = null;\n    }\n    setIsRecording(false);\n    if (!recognitionRef.current) {\n      console.log(\"No recognition ref available\");\n      return;\n    }\n    try {\n      console.log(\n        \"Attempting to stop recognition, current state:\",\n        isRecordingRef.current\n      );\n      recognitionRef.current.stop();\n      console.log(\"Recognition stopped successfully\");\n    } catch (error) {\n      console.error(\"Error stopping recording:\", error);\n    }\n  }, []);\n\n  const startRecording = useCallback(() => {\n    console.log(\"Start recording called\");\n    if (!recognitionRef.current) {\n      console.error(\"Speech recognition not available\");\n      setError(\"Speech recognition not available\");\n      return;\n    }\n    try {\n      setError(null);\n      setTranscription(\"\");\n      console.log(\"Starting recognition...\");\n      recognitionRef.current.start();\n      console.log(\"Recognition started!\");\n      setIsRecording(true);\n      lastResultTimeRef.current = Date.now();\n      if (silenceTimeoutRef.current) {\n        clearTimeout(silenceTimeoutRef.current);\n      }\n      silenceTimeoutRef.current = setTimeout(() => {\n        console.log(\"Initial silence detected\");\n        if (isRecordingRef.current) {\n          stopRecording();\n        }\n      }, SILENCE_TIMEOUT);\n    } catch (error) {\n      console.error(\"Error starting recording:\", error);\n      if (error instanceof DOMException && error.name === \"InvalidStateError\") {\n        console.log(\"Recognition was already running, stopping first...\");\n        try {\n          recognitionRef.current.stop();\n          console.log(\"Successfully stopped recognition\");\n          setTimeout(() => {\n            console.log(\"Attempting to restart recognition\");\n            try {\n              recognitionRef.current?.start();\n              setIsRecording(true);\n              console.log(\"Successfully restarted recognition\");\n            } catch (retryError) {\n              console.error(\"Failed to restart recognition:\", retryError);\n              setError(\n                \"Failed to start recording. Please refresh and try again.\"\n              );\n            }\n          }, 300);\n        } catch (stopError) {\n          console.error(\"Failed to stop existing recognition:\", stopError);\n          setError(\"Failed to reset recording state. Please refresh the page.\");\n        }\n      } else {\n        setError(\n          \"Failed to start recording: \" +\n            (error instanceof Error ? error.message : String(error))\n        );\n      }\n    }\n  }, [stopRecording]);\n\n  useEffect(() => {\n    console.log(\"Initializing speech recognition...\");\n    const SpeechRecognition =\n      window.SpeechRecognition || window.webkitSpeechRecognition;\n    if (!SpeechRecognition) {\n      console.error(\"Speech recognition not supported\");\n      setError(\"Speech recognition is not supported in this browser.\");\n      return;\n    }\n    try {\n      const recognition = new SpeechRecognition();\n      recognition.continuous = true;\n      recognition.interimResults = true;\n      recognition.lang = \"en-US\";\n      recognitionRef.current = recognition;\n      console.log(\"Speech recognition initialized successfully\");\n    } catch (error) {\n      console.error(\"Error initializing speech recognition:\", error);\n      setError(\"Failed to initialize speech recognition.\");\n    }\n    return () => {\n      console.log(\"Cleaning up speech recognition\");\n      if (silenceTimeoutRef.current) {\n        clearTimeout(silenceTimeoutRef.current);\n      }\n      try {\n        if (isRecordingRef.current && recognitionRef.current) {\n          recognitionRef.current.stop();\n        }\n      } catch (error) {\n        console.error(\"Error during cleanup:\", error);\n      }\n    };\n  }, []);\n\n  const handleResult = useCallback(\n    (event: SpeechRecognitionEvent): void => {\n      console.log(\"Speech recognition result received\");\n      lastResultTimeRef.current = Date.now();\n      let interimTranscript = \"\";\n      let finalTranscript = \"\";\n      for (let i = event.resultIndex; i < event.results.length; ++i) {\n        if (event.results[i].isFinal) {\n          finalTranscript += event.results[i][0].transcript;\n        } else {\n          interimTranscript += event.results[i][0].transcript;\n        }\n      }\n      const newTranscription = finalTranscript || interimTranscript;\n      if (newTranscription) {\n        console.log(\"New transcription:\", newTranscription);\n        setTranscription((prev) => newTranscription || prev);\n      }\n      if (silenceTimeoutRef.current) {\n        clearTimeout(silenceTimeoutRef.current);\n      }\n      silenceTimeoutRef.current = setTimeout(() => {\n        console.log(\"Silence detected, stopping recording\");\n        if (isRecordingRef.current) {\n          stopRecording();\n        }\n      }, SILENCE_TIMEOUT);\n    },\n    [stopRecording]\n  );\n\n  const handleEnd = useCallback((): void => {\n    console.log(\"Recognition ended event fired\");\n    if (silenceTimeoutRef.current) {\n      clearTimeout(silenceTimeoutRef.current);\n      silenceTimeoutRef.current = null;\n    }\n    setIsRecording(false);\n  }, []);\n\n  const handleError = useCallback(\n    (event: SpeechRecognitionErrorEvent): void => {\n      console.error(\"Speech recognition error:\", event.error);\n      setError(`Speech recognition error: ${event.error}`);\n      setIsRecording(false);\n      if (silenceTimeoutRef.current) {\n        clearTimeout(silenceTimeoutRef.current);\n        silenceTimeoutRef.current = null;\n      }\n    },\n    []\n  );\n\n  useEffect(() => {\n    const recognition = recognitionRef.current;\n    if (!recognition) {\n      console.log(\"No recognition object available for event listeners\");\n      return;\n    }\n    console.log(\"Setting up speech recognition event listeners\");\n    recognition.addEventListener(\"result\", handleResult);\n    recognition.addEventListener(\"end\", handleEnd);\n    recognition.addEventListener(\"error\", handleError);\n    return () => {\n      console.log(\"Removing speech recognition event listeners\");\n      recognition.removeEventListener(\"result\", handleResult);\n      recognition.removeEventListener(\"end\", handleEnd);\n      recognition.removeEventListener(\"error\", handleError);\n    };\n  }, [handleResult, handleEnd, handleError]);\n\n  return {\n    isRecording,\n    transcription,\n    error,\n    startRecording,\n    stopRecording,\n    clearTranscription,\n  };\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1329, "column": 0}, "map": {"version":3,"sources":["file:///home/clj/repo/voice-to-text-next/app/components/DictationApp.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect } from \"react\";\nimport CardSection from \"./CardSection\";\nimport Modal from \"./Modal\";\nimport { ModeToggle } from \"./DarkLightToggle\";\nimport DictationButton from \"./DictationButton\";\nimport { useSpeechRecognition } from \"./SpeechRecognitionService\";\nimport { Button } from \"@/components/ui/button\";\nimport { Trash2 } from \"lucide-react\";\n\nconst STORAGE_KEY = \"voice-to-text-history\";\n\nexport default function DictationApp(): React.ReactElement {\n  const {\n    isRecording,\n    transcription,\n    error,\n    startRecording,\n    stopRecording,\n    clearTranscription,\n  } = useSpeechRecognition();\n\n  const [history, setHistory] = useState<string[]>([]);\n  const [modalOpen, setModalOpen] = useState<boolean>(false);\n  const [selectedText, setSelectedText] = useState<string>(\"\");\n  const [lastSavedTranscription, setLastSavedTranscription] =\n    useState<string>(\"\");\n\n  useEffect(() => {\n    const savedHistory = localStorage.getItem(STORAGE_KEY);\n    if (savedHistory) {\n      try {\n        setHistory(JSON.parse(savedHistory));\n      } catch (error) {\n        console.error(\"Failed to parse saved history:\", error);\n      }\n    }\n  }, []);\n\n  useEffect(() => {\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(history));\n  }, [history]);\n\n  useEffect(() => {\n    if (\n      !isRecording &&\n      transcription.trim() &&\n      transcription !== lastSavedTranscription\n    ) {\n      setHistory((prev) => [transcription, ...prev].slice(0, 10));\n      setLastSavedTranscription(transcription);\n    }\n  }, [isRecording, transcription, lastSavedTranscription]);\n\n  const handleDeleteHistory = (index: number): void => {\n    setHistory((prev) => {\n      const newHistory = [...prev];\n      newHistory.splice(index, 1);\n      return newHistory;\n    });\n  };\n\n  const handleOpenModal = (text: string): void => {\n    setSelectedText(text);\n    setModalOpen(true);\n  };\n\n  const handleDeleteAll = (): void => {\n    setHistory(() => []);\n    clearTranscription();\n    setLastSavedTranscription(\"\");\n    localStorage.removeItem(STORAGE_KEY);\n    setTimeout(() => {\n      if (history.length > 0) {\n        console.log(\"Forcing history clear\");\n        setHistory(() => []);\n      }\n    }, 100);\n  };\n\n  return (\n    <div className=\"flex flex-col min-h-screen items-center justify-center p-4\">\n      <div className=\"p-4 sm:p-6 rounded-lg shadow-xl w-full max-w-[800px] dark:bg-slate-600 bg-slate-400\">\n        <div className=\"w-full sm:w-[200px] flex flex-col items-center\">\n          <DictationButton\n            isRecording={isRecording}\n            onStartRecording={startRecording}\n            onStopRecording={stopRecording}\n          />\n        </div>\n        <div className=\"w-full max-w-[800px] mt-4\">\n          {error && (\n            <div className=\"text-red-500 text-center mb-4\">{error}</div>\n          )}\n          {transcription && (\n            <div className=\"p-4 bg-white/10 rounded-lg mb-4\">\n              <p className=\"text-white\">{transcription}</p>\n            </div>\n          )}\n          <CardSection\n            history={history}\n            onDeleteHistory={handleDeleteHistory}\n            onOpenModal={handleOpenModal}\n          />\n        </div>\n      </div>\n\n      <div className=\"fixed bottom-4 right-4 flex gap-2\">\n        <ModeToggle />\n        <Button\n          variant=\"destructive\"\n          size=\"icon\"\n          onClick={handleDeleteAll}\n          aria-label=\"Delete all\"\n        >\n          <Trash2 className=\"h-4 w-4\" />\n        </Button>\n      </div>\n\n      <Modal\n        isOpen={modalOpen}\n        onClose={() => setModalOpen(false)}\n        title=\"Transcription\"\n        content={selectedText}\n      />\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;;;;AAEA;AACA;AACA;;;AATA;;;;;;;;;AAWA,MAAM,cAAc;AAEL,SAAS;;IACtB,MAAM,EACJ,WAAW,EACX,aAAa,EACb,KAAK,EACL,cAAc,EACd,aAAa,EACb,kBAAkB,EACnB,GAAG,IAAA,gNAAoB;IAExB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iXAAQ,EAAW,EAAE;IACnD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iXAAQ,EAAU;IACpD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iXAAQ,EAAS;IACzD,MAAM,CAAC,wBAAwB,0BAA0B,GACvD,IAAA,iXAAQ,EAAS;IAEnB,IAAA,kXAAS;kCAAC;YACR,MAAM,eAAe,aAAa,OAAO,CAAC;YAC1C,IAAI,cAAc;gBAChB,IAAI;oBACF,WAAW,KAAK,KAAK,CAAC;gBACxB,EAAE,OAAO,OAAO;oBACd,QAAQ,KAAK,CAAC,kCAAkC;gBAClD;YACF;QACF;iCAAG,EAAE;IAEL,IAAA,kXAAS;kCAAC;YACR,aAAa,OAAO,CAAC,aAAa,KAAK,SAAS,CAAC;QACnD;iCAAG;QAAC;KAAQ;IAEZ,IAAA,kXAAS;kCAAC;YACR,IACE,CAAC,eACD,cAAc,IAAI,MAClB,kBAAkB,wBAClB;gBACA;8CAAW,CAAC,OAAS;4BAAC;+BAAkB;yBAAK,CAAC,KAAK,CAAC,GAAG;;gBACvD,0BAA0B;YAC5B;QACF;iCAAG;QAAC;QAAa;QAAe;KAAuB;IAEvD,MAAM,sBAAsB,CAAC;QAC3B,WAAW,CAAC;YACV,MAAM,aAAa;mBAAI;aAAK;YAC5B,WAAW,MAAM,CAAC,OAAO;YACzB,OAAO;QACT;IACF;IAEA,MAAM,kBAAkB,CAAC;QACvB,gBAAgB;QAChB,aAAa;IACf;IAEA,MAAM,kBAAkB;QACtB,WAAW,IAAM,EAAE;QACnB;QACA,0BAA0B;QAC1B,aAAa,UAAU,CAAC;QACxB,WAAW;YACT,IAAI,QAAQ,MAAM,GAAG,GAAG;gBACtB,QAAQ,GAAG,CAAC;gBACZ,WAAW,IAAM,EAAE;YACrB;QACF,GAAG;IACL;IAEA,qBACE,qYAAC;QAAI,WAAU;;0BACb,qYAAC;gBAAI,WAAU;;kCACb,qYAAC;wBAAI,WAAU;kCACb,cAAA,qYAAC;4BACC,aAAa;4BACb,kBAAkB;4BAClB,iBAAiB;;;;;;;;;;;kCAGrB,qYAAC;wBAAI,WAAU;;4BACZ,uBACC,qYAAC;gCAAI,WAAU;0CAAiC;;;;;;4BAEjD,+BACC,qYAAC;gCAAI,WAAU;0CACb,cAAA,qYAAC;oCAAE,WAAU;8CAAc;;;;;;;;;;;0CAG/B,qYAAC,sLAAW;gCACV,SAAS;gCACT,iBAAiB;gCACjB,aAAa;;;;;;;;;;;;;;;;;;0BAKnB,qYAAC;gBAAI,WAAU;;kCACb,qYAAC,6LAAU;;;;;kCACX,qYAAC,+KAAM;wBACL,SAAQ;wBACR,MAAK;wBACL,SAAS;wBACT,cAAW;kCAEX,cAAA,qYAAC,kVAAM;4BAAC,WAAU;;;;;;;;;;;;;;;;;0BAItB,qYAAC,gLAAK;gBACJ,QAAQ;gBACR,SAAS,IAAM,aAAa;gBAC5B,OAAM;gBACN,SAAS;;;;;;;;;;;;AAIjB;GAnHwB;;QAQlB,gNAAoB;;;KARF"}}]
}